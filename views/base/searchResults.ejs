<%- include('../base/head.ejs') %>
  <title>Search All Results</title>

    <style>
      th, td {
          border: 1px solid #ddd; /* Adds borders for clarity */
          padding: 8px; /* Adds padding */
          text-align: left; /* Aligns text */
      }
      /* Set fixed widths for columns */
      th:nth-child(1), td:nth-child(1) { width: 20%; } /* Name 20*/
      th:nth-child(2), td:nth-child(2) { width: 50%; } /* Description 50*/
      th:nth-child(3), td:nth-child(3) { width: 10%; } /* Price 15*/
      th:nth-child(4), td:nth-child(4) { width: 10%; } /* Quantity 15*/
      th:nth-child(5), td:nth-child(5) { width: 20%; } /* Image 10*/
    </style>
 
  <body>
  <header><%- include('../base/header.ejs') %></header>
  <div class="container nav-padding">
  <div class="d-flex justify-content-between align-items-center bg-light">
  <h2 style="font-family: sans-serif" class="mt-0">Search All Results</h2>
  </div>

  <div style="font-size:20px; margin-bottom: 5px;color:blue;"><u>Coffee Drinks list: </u></div>
  
  <table class="table mt-0 table-striped" border="1" cellpadding="1">
    <thead>
      <tr style="background-color:antiquewhite;">
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <% if (user) { %>
        <th>Quantity</th>
        <% } %>
        <th>Image</th>
      </tr>
    </thead>
    <tbody>
      
    <% if (products1.length > 0) { %>
      <!-- sort by name in ascending order -->
      <%products1.sort((a, b) => a.name.localeCompare(b.name)); %>
      <% products1.forEach(product => { %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.description %></td>
        <td>$<%= product.price.toFixed(2) %></td>
        <% if (user) { %>
        <td><%= product.quantity %></td>
        <% } %>
        <td><img src="<%= product.image %>" width="100" height="auto"></td>
      </tr>
      <% }); %>
    <% } else { %>
    <tr>
  <td colspan="5" style="text-align: center">
    No products found for "<%= query %>".
    <!-- 'query' is from render -->
  </td>
  </tr>
    
    <% } %>
    </tbody>
 </table>


  <div style="font-size:20px; margin-bottom: 5px;color:green;"><u>Snacks list: </u></div>
  <table class="table mt-0 table-striped" border="1" cellpadding="1">
    <thead>
      <tr style="background-color:antiquewhite;">
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <% if (user) { %>
        <th>Quantity</th>
        <% } %>
        <th>Image</th>
      </tr>
    </thead>
    <tbody>

    <% if (products2.length > 0) { %>
      <!-- sort by name in ascending order -->
      <%products2.sort((a, b) => a.name.localeCompare(b.name)); %>
      <% products2.forEach(product => { %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.description %></td>
        <td>$<%= product.price.toFixed(2) %></td>
        <% if (user) { %>
        <td><%= product.quantity %></td>
        <% } %>
        <td><img src="<%= product.image %>" width="100" height="auto"></td>
      </tr>
      <% }); %>
    <% } else { %>
    <tr>
  <td colspan="5" style="text-align: center">
    No products found for "<%= query %>".  
    <!-- 'query' is from render -->
  </td>
  </tr>

    <% } %> 
    </tbody>
 </table>
</div>


    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous">
    </script>
  </body>
</html>
